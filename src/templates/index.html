<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory Tools</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a1a;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
        }
        
        h1 {
            color: #fff;
            font-size: 28px;
            font-weight: 500;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            color: #666;
            font-size: 14px;
            margin-bottom: 40px;
        }
        
        .device-status {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 14px;
            background: #252525;
            border-radius: 20px;
            font-size: 12px;
            color: #888;
        }
        
        .device-status .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #dc3545;
        }
        
        .device-status.connected .dot {
            background: #28a745;
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 600px;
            width: 100%;
        }
        
        .card {
            background: #252525;
            border-radius: 12px;
            padding: 28px 24px;
            text-decoration: none;
            transition: all 0.2s ease;
            border: 1px solid #333;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .card:hover {
            background: #2a2a2a;
            border-color: #444;
            transform: translateY(-2px);
        }
        
        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-icon svg {
            width: 22px;
            height: 22px;
        }
        
        .card-icon.blue { background: #1e3a5f; }
        .card-icon.blue svg { stroke: #5ba3f5; }
        
        .card-icon.green { background: #1e4035; }
        .card-icon.green svg { stroke: #4ade80; }
        
        .card-icon.orange { background: #3d2e1a; }
        .card-icon.orange svg { stroke: #f59e0b; }
        
        .card-icon.purple { background: #2d1f3d; }
        .card-icon.purple svg { stroke: #a78bfa; }
        
        .card-title {
            color: #fff;
            font-size: 16px;
            font-weight: 600;
        }
        
        .card-desc {
            color: #666;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .card-arrow {
            margin-top: auto;
            color: #444;
            font-size: 18px;
            align-self: flex-end;
        }

        @media (max-width: 500px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="device-status" id="deviceStatus">
        <span class="dot"></span>
        <span id="deviceText">Checking...</span>
    </div>
    
    <h1>Inventory Tools</h1>
    <p class="subtitle">Select an operation</p>
    
    <div class="grid">
        <a href="/change-state" class="card">
            <div class="card-icon blue">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
                    <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
                </svg>
            </div>
            <div class="card-title">Change Item State</div>
            <div class="card-desc">Update IMEI product IDs in bulk or individually</div>
            <span class="card-arrow">→</span>
        </a>
        
        <a href="/receive" class="card">
            <div class="card-icon green">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                    <line x1="12" y1="22.08" x2="12" y2="12"/>
                </svg>
            </div>
            <div class="card-title">Receive</div>
            <div class="card-desc">Process incoming inventory with order tracking</div>
            <span class="card-arrow">→</span>
        </a>
        
        <a href="/transfer" class="card">
            <div class="card-icon orange">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                    <path d="M17 1l4 4-4 4"/>
                    <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
                    <path d="M7 23l-4-4 4-4"/>
                    <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
                </svg>
            </div>
            <div class="card-title">Transfer</div>
            <div class="card-desc">Move items between sublocations</div>
            <span class="card-arrow">→</span>
        </a>
        
        <a href="/bulk-stock" class="card">
            <div class="card-icon purple">
                <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                    <path d="M2 17l10 5 10-5"/>
                    <path d="M2 12l10 5 10-5"/>
                </svg>
            </div>
            <div class="card-title">Bulk Stock</div>
            <div class="card-desc">Add multiple items to stock quickly</div>
            <span class="card-arrow">→</span>
        </a>
    </div>

    <script>
        async function checkDeviceStatus() {
            try {
                const res = await fetch('/device-status');
                const data = await res.json();
                const statusEl = document.getElementById('deviceStatus');
                const textEl = document.getElementById('deviceText');
                
                if (data.connected) {
                    statusEl.className = 'device-status connected';
                    textEl.textContent = 'Device connected';
                } else {
                    statusEl.className = 'device-status';
                    textEl.textContent = 'No device';
                }
            } catch (e) {
                document.getElementById('deviceText').textContent = 'Error';
            }
        }
        
        checkDeviceStatus();
        setInterval(checkDeviceStatus, 5000);
    </script>
</body>
</html>

